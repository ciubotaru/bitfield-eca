EXAMPLES=rule30 eca
LIBS=-L.. -I..

all: build-examples run-examples
build-examples: $(EXAMPLES)
$(EXAMPLES): %: %.c
	$(CC) $(CFLAGS) -Wl,-rpath=$(CURDIR) -o $@ $< $(LIBS) -lbitfield-eca -lbitfield

run-examples:
	for i in $(EXAMPLES); do \
	./$$i; \
	done
clean:
	rm -rvf *.a *.o *.so*
	rm -rvf $(EXAMPLES)

distclean:
	rm Makefile

.PHONY: build-examples run-examples clean distclean
